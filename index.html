      <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nigeria New PIT Calculator (2026)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: block; margin-top: 10px; }
    input { width: 200px; padding: 5px; }
    #result { margin-top: 20px; padding: 10px; background-color: #f0f0f0; }
  </style>
</head>
<body>
  <h2>Nigeria New Personal Income Tax Calculator (from Jan 2026)</h2>
  <label>
    Gross Annual Income (₦):
    <input type="number" id="grossIncome" />
  </label>
  <label>
    Other Deductions (pension, NHF, insurance etc) (₦):
    <input type="number" id="otherDeductions" value="0" />
  </label>
  <label>
    Annual Rent Paid (₦):
    <input type="number" id="rentPaid" value="0" />
  </label>
  <button onclick="calculateTax()">Calculate Tax</button>
  <div id="result"></div>

  <script>
    function calculateTax() {
      let gross = parseFloat(document.getElementById('grossIncome').value) || 0;
      let other = parseFloat(document.getElementById('otherDeductions').value) || 0;
      let rent = parseFloat(document.getElementById('rentPaid').value) || 0;

      // Rent relief: 20% of rent, capped at 500,000
      let rentRelief = rent * 0.20;
      if (rentRelief > 500000) rentRelief = 500000;

      // Adjusted income after deductions
      let adj = gross - other - rentRelief;
      if (adj < 0) adj = 0;

      // If adj ≤ 800,000 → no tax
      if (adj <= 800000) {
        document.getElementById('result').innerHTML =
          `<strong>No tax payable</strong> (taxable income ₦${adj.toLocaleString()}).`;
        return;
      }

      // Apply tax bands
      let taxable = adj;
      let tax = 0;

      // Helper function: tax a slice
      function taxSlice(amount, rate) {
        return amount * rate;
      }

      // Band 1: 0% up to 800,000 → 0 tax on that portion
      let remaining = taxable - 800000;

      // Band 2: 800,001 – 3,000,000 @ 15%
      if (remaining > 0) {
        let slice = Math.min(remaining, 3000000 - 800000);
        tax += taxSlice(slice, 0.15);
        remaining -= slice;
      }
      // Band 3: 3,000,001 – 12,000,000 @ 18%
      if (remaining > 0) {
        let slice = Math.min(remaining, 12000000 - 3000000);
        tax += taxSlice(slice, 0.18);
        remaining -= slice;
      }
      // Band 4: 12,000,001 – 25,000,000 @ 21%
      if (remaining > 0) {
        let slice = Math.min(remaining, 25000000 - 12000000);
        tax += taxSlice(slice, 0.21);
        remaining -= slice;
      }
      // Band 5: 25,000,001 – 50,000,000 @ 23%
      if (remaining > 0) {
        let slice = Math.min(remaining, 50000000 - 25000000);
        tax += taxSlice(slice, 0.23);
        remaining -= slice;
      }
      // Band 6: above 50,000,000 @ 25%
      if (remaining > 0) {
        tax += taxSlice(remaining, 0.25);
      }

      // Effective tax rate (on gross income)
      let effRate = (tax / gross) * 100;

      document.getElementById('result').innerHTML =
        `<p>Taxable income after deductions: ₦${adj.toLocaleString()}</p>` +
        `<p><strong>Tax payable:</strong> ₦${tax.toLocaleString(undefined, {maximumFractionDigits:0})}</p>` +
        `<p>Effective tax rate on gross income: ${effRate.toFixed(2)}%</p>`;
    }
  </script>
</body>
</html>
